<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Scoped CSS Variables and JS</title>
    <link rel="icon" href="https://fav.farm/ðŸ”¥" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main>
      <h1>Hello World</h1>
      <div id="boxy"></div>
      <p>This is a paragraph of immeasurable importance.</p>
      <ul class="list">
        <li class="list-item">This is a list item 1</li>
        <li class="list-item">This is a list item 2</li>
        <li class="list-item">This is a list item 4</li>
      </ul>
      <div class="card-container">
        <div class="card" id="card-1">
          <img
            class="card__image"
            width="300"
            height="300"
            src="https://picsum.photos/300/?random=1"
            alt="Lorem Ipsum Picture"
          />
          <h2 class="card__heading">Lorem Ipsum Title</h2>
          <p class="card__description">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ipsam esse
            consequatur culpa itaque saepe, placeat amet repellendus.
          </p>
          <button class="btn card__btn">Learn More</button>
        </div>
        <div class="card" id="card-2">
          <img
            class="card__image"
            width="300"
            height="300"
            src="https://picsum.photos/300/?random=2"
            alt="Lorem Ipsum Picture"
          />
          <h2 class="card__heading">Lorem Ipsum Title 2</h2>
          <p class="card__description">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis
            id enim reprehenderit laudantium veritatis aut eaque optio quidem.
          </p>
          <button class="btn card__btn">Learn More</button>
        </div>
        <div class="card" id="card-3">
          <img
            class="card__image"
            width="300"
            height="300"
            src="https://picsum.photos/300/?random=3"
            alt="Lorem Ipsum Picture"
          />
          <h2 class="card__heading">Lorem Ipsum Title 3</h2>
          <p class="card__description">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Eaque, at!
            Ipsam, provident omnis? Corrupti illum earum enim, dolorem quas
            fugiat iste.
          </p>
          <button class="btn card__btn">Learn More</button>
        </div>
      </div>
    </main>
  </body>
  <script>
    for (let i = 0; i < 2; i++) {
      const paragraphNodes = document
        .getElementById("boxy")
        .appendChild(document.createElement("p"))
        .classList.add("test");
    }

    const addTextToPNodes = document.getElementsByClassName("test");
    const firstText = (addTextToPNodes[0].innerHTML =
      "I have added text to the first paragraph node");

    const secondText = (addTextToPNodes[1].innerHTML =
      "Text for the second p tag");

    const addThirdPTag = document
      .getElementById("boxy")
      .appendChild(document.createElement("p"));

    const listItems = document.querySelectorAll(".list-item");
    const addsublist = listItems[listItems.length - 1].insertAdjacentHTML(
      "beforeend",
      `
         <ul>
             <li>one </li>
             <li>two </li>
             <li>three </li>
         </ul>
     `
    );

    const list = document.querySelector(".list");

    // creating a new element in DOM and adding classList
    const paragraphGlow = document.createElement("p");
    paragraphGlow.classList.add("glow");

    //append p tag after our UL
    list.insertAdjacentElement("afterend", paragraphGlow);
    paragraphGlow.textContent = "This is a glowing paragraph";

    const testCardsQuerySelectorAll = document.querySelectorAll(".card");
    console.log("testCardsQuerySelectorAll", testCardsQuerySelectorAll);

    const newDiv = document.createElement("div");
    paragraphGlow.insertAdjacentElement("afterend", newDiv);
    newDiv.innerHTML = `<p><strong>New BOLD content</strong></p>`; // innerHTML lets you insert multiple tags if you want

    // when clicking on the glowing paragraph , remove the glowing CSS class
    paragraphGlow.addEventListener("click", () => {
      paragraphGlow.classList.remove("glow");
    });

    // when clicking on the glowing paragraph , change color to red

    paragraphGlow.addEventListener("click", () => {
      paragraphGlow.classList.add("warning");
      paragraphGlow.textContent = "WARNING, WARNING , WARNING!";
    });

    // REMOVE A CARD WHEN ITS BUTTON IT CLICKED
    const cardBtns = document.querySelectorAll(".card__btn");

    // cardBtns.forEach((btn) => {
    //   btn.addEventListener("click", function () {
    //     const card = this.closest(".card"); // this refers to the btn that was clocked, closest will find its nearest parent div being .card-container
    //     console.log("card", card);
    //     if (card) {
    //       // if the card exists, then we remove it.
    //       card.remove();
    //     }
    //   });
    // });

    // toggle the GLOW class on the card that is clicked
    // cardBtns.forEach((btn) => {
    //   btn.addEventListener("click", function () {
    //     const card = this.closest(".card"); // this refers to the btn that was clocked, closest will find its nearest parent div being .card-container
    //     card.classList.add("glow");
    //   });
    // });

    // Change the event listener to the following. Change the title of all other cards to "Jealous ðŸ‘€" when you click on a cardâ€™s button. (BONUS: Change the title of the card that was clicked to "Iâ€™m the greatest!").

    const cards = document.querySelectorAll(".card");

    function handleClick(e) {
      const cardID = e.target.parentElement.id;

      cards.forEach((card) => {
        if (card.id !== cardID) {
          return (card.querySelector(".card__heading").textContent = "Jealous");
        }

        if (card.id === cardID) {
          return (card.querySelector(".card__heading").textContent =
            "I'm the greatest!");
        }
      });
    }

    cardBtns.forEach((btn) => {
      btn.addEventListener("click", handleClick);
    });

    // INTERMEDIATE CHALLENGES
    const cardCntr = document.querySelector(".card-container");
    console.log("cardCntr", cardCntr);

    const addMoreBtn = document.createElement("button");
    addMoreBtn.innerText = "Add more cards";
    addMoreBtn.classList.add("btn");

    cardCntr.insertAdjacentElement("afterend", addMoreBtn);
  </script>
</html>
